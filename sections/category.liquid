{% schema %}
{
    "name": "Category Section",
    "settings": [
      {
        "type": "text",
        "id": "subheading",
        "label": "Subheading",
        "default": "Categories"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Browse By Category"
      }
    ],
    "blocks": [
      {
        "type": "category",
        "name": "Category Item",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Category Name",
            "default": "Phones"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Category Link"
          },
          {
            "type": "image_picker",
            "id": "svg_image",
            "label": "Upload SVG Image"
          },
          {
            "type": "color",
            "id": "svg_normal_color",
            "label": "SVG Normal Color",
            "default": "#000000"
          },
          {
            "type": "color",
            "id": "svg_hover_color",
            "label": "SVG Hover Color",
            "default": "#FFFFFF"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Category Section",
        "blocks": [
          {
            "type": "category",
            "settings": {
              "title": "Phones",
              "link": "#",
              "svg_image": "",
              "svg_normal_color": "#000000",
              "svg_hover_color": "#FFFFFF"
            }
          }
        ]
      }
    ]
}
{% endschema %}

<section class="categories-section">
  <div class="categories-wrapper">
    <div class="best-selling-up-block">
      <div class="todays-sale category-text">{{ section.settings.subheading }}</div>
      <div class="browse-by-category">
        <h2 class="heading-3">{{ section.settings.heading }}</h2>
      </div>
    </div>
    <div class="category-lists">
      {% for block in section.blocks %}
        <a href="{{ block.settings.link }}" class="category-items"
          style="--svg-normal-color: {{ block.settings.svg_normal_color }}; --svg-hover-color: {{ block.settings.svg_hover_color }};">
          
          {% if block.settings.svg_image != blank %}
            <div class="svg-image-category">
              <img src="{{ block.settings.svg_image | image_url }}" class="svg-icon" alt="{{ block.settings.title }}">
            </div>
          {% endif %}
          
          <div class="text-block-9">{{ block.settings.title }}</div>
        </a>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  /* Default SVG Color */
  .svg-image-category img {
    -webkit-mask-image: url({{ block.settings.svg_image | image_url }});
    mask-image: url({{ block.settings.svg_image | image_url }});
    background-color: var(--svg-normal-color);
    width: 56px;
    height: 56px;
    display: block;
    transition: background-color 0.3s ease;
  }

  /* Hover Effect */
  .category-items:hover .svg-image-category img {
    background-color: var(--svg-hover-color);
  }
</style>
